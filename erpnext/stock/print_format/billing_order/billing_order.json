{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-01-14 18:25:14.133416",
 "css": "table \n{\n    /*table-layout:fixed !important;*/\n    width:100% !important;\n     margin: 0 auto !important;\n     font-family: Tahoma, sans-serif !important;\n    font-size: 9pt !important;\n}\n\n /* Define cell-specific max-width constraints */\n        td:nth-child(1) {\n            max-width: 0.374in;\n            width: 0.374in;\n        }\n\n        td:nth-child(2) {\n            /*max-width: 1.201in;*/\n            /*width: 1.201in;*/\n            max-width: 1.2235in;\n            width: 1.2235in;\n        }\n\n        td:nth-child(3) {\n            max-width: 1.161in;\n            width: 1.161in;\n        }\n\n        td:nth-child(4) {\n            max-width: 1.398in;\n            width: 1.398in;\n        }\n\n        td:nth-child(5) {\n            max-width: 1.437in;\n            width: 1.437in;\n        }\n        \n\nbody {\n            font-family: Tahoma, sans-serif !important;\n    font-size: 9pt !important;\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n.print-format {\n     font-family: Tahoma, sans-serif !important;\n    font-size: 9pt !important;\n    max-width: 7in !important;\n    min-height: 10in !important;\n    padding: 0 1.015748in 0 0 !important;\n    margin: auto !important;\n}\n\n.print-format td, .print-format th {\n    padding: 0 !important;\n}\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 1,
 "doc_type": "Delivery Note",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "",
 "font_size": 14,
 "html": "{% set records = frappe.db.sql(\"\"\"\n         SELECT\n            `tabDelivery Note`.name AS delivery_note_name,\n            `tabDelivery Note`.posting_date,\n            `tabDelivery Note`.customer,\n            `tabDelivery Note`.customer_name,\n            `tabDelivery Note`.grand_total,\n            `tabDelivery Note`.base_grand_total,\n            `tabDelivery Note Item`.item_code,\n            SUM(`tabDelivery Note Item`.base_amount) AS total_base_amount,\n            SUM((`tabDelivery Note Item`.billed_amt * IFNULL(`tabDelivery Note`.conversion_rate, 1))) AS total_billed_amount,\n            SUM((`tabDelivery Note Item`.base_rate * IFNULL(`tabDelivery Note Item`.returned_qty, 0))) AS total_returned_amount,\n            SUM((`tabDelivery Note Item`.base_amount -\n                (`tabDelivery Note Item`.billed_amt * IFNULL(`tabDelivery Note`.conversion_rate, 1)) -\n                (`tabDelivery Note Item`.base_rate * IFNULL(`tabDelivery Note Item`.returned_qty, 0))\n            )) AS total_remaining_amount,\n            `tabDelivery Note Item`.item_name,\n            `tabDelivery Note Item`.description,\n            `tabDelivery Note`.project,\n            `tabDelivery Note`.company\n        FROM\n            `tabDelivery Note`, `tabDelivery Note Item`\n        WHERE\n            `tabDelivery Note`.name = `tabDelivery Note Item`.parent AND `tabDelivery Note`.docstatus = 1\n            AND `tabDelivery Note`.status NOT IN ('Closed', 'Completed')\n            AND `tabDelivery Note Item`.amount > 0\n            AND (`tabDelivery Note Item`.base_amount -\n                ROUND(`tabDelivery Note Item`.billed_amt * IFNULL(`tabDelivery Note`.conversion_rate, 1), 2) -\n                (`tabDelivery Note Item`.base_rate * IFNULL(`tabDelivery Note Item`.returned_qty, 0))) > 0\n        GROUP BY\n            `tabDelivery Note`.name, `tabDelivery Note`.name\n        ORDER BY\n            `tabDelivery Note`.name DESC\"\"\", as_dict=True) %}\n\n\n<script>\n    // Execute convertFullMoney on elements with data-intl-currency=\"th\"\n    document.addEventListener('DOMContentLoaded', function() {\n        document.querySelectorAll('[data-intl-currency=\"th\"]').forEach(function(element) {\n            const numericValue = parseFloat(element.getAttribute('data-intl-currency-value'));\n            if (!isNaN(numericValue)) {\n                // Use thaiBahtText.bahtText from the library\n                element.innerHTML = \"( \" + convertFullMoney(numericValue) + \" )\";\n            }\n        });\n    });\n</script>\n\n{% set unpaid_notes_per_page = 32 %}\n{% set total_pages = records | length // unpaid_notes_per_page + 1 %}\n\n{% for page_number in range(1, total_pages + 1) %}\n\n<div class=\"generic-container-position-relative\" style=\"position: relative;height: 10in;\">\n<!--<span style=\"visibility: hidden;\">{{ doc.select_print_heading or \"_X2_GENERIC_PRINTER_SCALING\" }}</span>-->\n<!--<div style=\"text-align: right;visibility: hidden;\">{{ doc.select_print_heading or \"_X2_GENERIC_PRINTER_SCALING\" }}</div>-->\n\n<div class=\"x-content\" style=\"position: absolute;top: 0.8558268in;left: 0.55584in;\">\n    <div style=\"margin-left: 0.11811in\">{{doc.customer}}</div>\n</div>\n{% set a_billing_address = frappe.get_doc('Address', doc.customer_primary_address) %}\n<div class=\"x-content\" style=\"padding: 0 0.23622in 0 0.19685in;position: absolute;top: 1.14173in\">\n    <div style=\"margin-left: 0.11811in\">\n        <div>{{a_billing_address.address_line1 or ''}} {% set addr = [a_billing_address.address_line2, a_billing_address.district, a_billing_address.sub_district, a_billing_address.state, a_billing_address.pincode, a_billing_address.phone, a_billing_address.fax] %}\n        \n        {{ addr|reject('none')|join(', ') }}</div>\n    </div>\n</div>\n\n{% set company_abbreviation = frappe.db.get_value(\"Company\", doc.company, \"abbr\") %}\n\n<div class=\"x-content text-uppercase\" style=\"position: absolute;top: 0.8558268in;right: 0.24584in;\" data-doc-id>{{frappe.utils.get_datetime().strftime('SI-%y%m%d')}}-{{company_abbreviation}}</div>\n\n<div class=\"x-content\" style=\"position: absolute;top: 1.102047in;right: 0.24584in;\">{{frappe.utils.formatdate(doc.get_formatted('posting_date'), 'dd-mm-yyyy') }}\n</div>\n\n{%- set customer_name = doc.customer_name -%}\n\n\n{%- set customer = frappe.get_doc(\"Customer\", customer_name) -%}\n{%- set payment_term = frappe.get_doc(\"Payment Term\", customer.default_payment_term) -%}\n    \n{%- if payment_term -%}\n    {%- set credit_days = '{0} \u0e27\u0e31\u0e19'.format(payment_term.credit_days) or 'Unknown' -%}\n{%- endif -%}\n\n<div class=\"x-content\" style=\"position: absolute;top: 1.357638in;right: 0.24584in;\">{{ credit_days }}</div>\n\n<div class=\"table-sandbox-rule\" style=\"position: absolute;margin: 0 0.23622in 0 0.19685in;top: 1.948819in;\">\n<table style=\"max-height: 2.38189in; height: 2.38189in; width: 5.540551in !important;display: block;\">\n\t<tbody>\n\t\t<tr style=\"display: none;\">\n\t\t\t<th class=\"text-center\">#</th>\n\t\t\t<th class=\"text-center\">Bill Delivery Note</th>\n\t\t\t<th class=\"text-center\"></th>\n\t\t\t<th class=\"text-center\"></th>\n\t\t\t<th class=\"text-center\"></th>\n\t\t</tr>\n\t\t{% set loop_start = (page_number-1) * unpaid_notes_per_page + 1 %}\n\t\t{% for unpaid_note in records[loop_start - 1 : page_number * unpaid_notes_per_page] %}\n\t\t<tr>\n\t\t\t<td class=\"text-center\">{{ loop_start + loop.index - 1 }}</td>\n\t\t\t<td class=\"text-center\">{{unpaid_note.delivery_note_name}}</td>\n\t\t\t<td class=\"text-center\">{{frappe.utils.formatdate(unpaid_note.posting_date, 'dd-mm-yyyy')}}</td>\n\t\t\t<td style=\"text-align: right;\"></td>\n\t\t\t<td style=\"text-align: right;\">{{ '{:,.2f}'.format(unpaid_note.total_remaining_amount) }}</td>\n\t\t</tr>\n\t\t{% endfor %}\n\t</tbody>\n</table>\n</div>\n\n\n\n<span style=\"bottom: 2.027559in;position: absolute;left: 0.19685in;width: 4.16in;max-width:4.16in;\" >({{ records | length }}) </span>\n\n{% if page_number == total_pages %}\n{% set total_remaining_amount = records | map(attribute='total_remaining_amount') | sum %}\n\n<span style=\"bottom: 1.57in;position: absolute;left: 0.19685in;width:5.59in;max-width:5.59in; text-align:center\" data-intl-currency=\"th\" data-intl-currency-value=\"{{ '{:.2f}'.format(total_remaining_amount) }}\" class=\"currency-element\">GT</span>\n<span style=\"bottom: 2.027559in;position: absolute;left: 4.299189in;max-width: 1.437in; width: 1.437in;text-align: right;\">{{ '{:,.2f}'.format(total_remaining_amount) }}</span>\n\n{% endif %}\n<span style=\"bottom: 0.944882in; position: absolute;padding: 0 0.23622in 0 0.866142in;\"></span>\n<span style=\"bottom: 0.944882in; position: absolute;padding: 0 0.23622in 0 3.85827in;\"></span>\n<span style=\"bottom: 0.575551in; position: absolute;padding: 0 0.23622in 0 0.866142in;\"></span>\n\n</div>\n\n\n\n{% if page_number < total_pages %}\n    <div style=\"page-break-before: always;\"></div>\n{% endif %}\n\n{% endfor %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2024-04-04 07:00:10.932225",
 "modified_by": "Administrator",
 "module": "Stock",
 "name": "Billing Order",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_height": 254.0,
 "pdf_width": 177.8,
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_commands": "<h3>{{ doc.select_print_heading or \"_X1_GENERIC_PRINTER_SCALING\" }}</h3>\n<div class=\"row\">\n\t<div class=\"col-md-3 text-right\">Customer Name</div>\n\t<div class=\"col-md-9\">{{ doc.customer_name }}</div>\n</div>\n<div class=\"row\">\n\t<div class=\"col-md-3 text-right\">Date</div>\n\t<div class=\"col-md-9\">{{ doc.get_formatted(\"invoice_date\") }}</div>\n</div>\n<table class=\"table table-bordered\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<th>Sr</th>\n\t\t\t<th>Item Name</th>\n\t\t\t<th>Description</th>\n\t\t\t<th class=\"text-right\">Qty</th>\n\t\t\t<th class=\"text-right\">Rate</th>\n\t\t\t<th class=\"text-right\">Amount</th>\n\t\t</tr>\n\t\t{%- for row in doc.items -%}\n\t\t<tr>\n\t\t\t<td style=\"width: 3%;\">{{ row.idx }}</td>\n\t\t\t<td style=\"width: 20%;\">\n\t\t\t\t{{ row.item_name }}\n\t\t\t\t{% if row.item_code != row.item_name -%}\n\t\t\t\t<br>Item Code: {{ row.item_code}}\n\t\t\t\t{%- endif %}\n\t\t\t</td>\n\t\t\t<td style=\"width: 37%;\">\n\t\t\t\t<div style=\"border: 0px;\">{{ row.description }}</div></td>\n\t\t\t<td style=\"width: 10%; text-align: right;\">{{ row.qty }} {{ row.uom or row.stock_uom }}</td>\n\t\t\t<td style=\"width: 15%; text-align: right;\">{{\n\t\t\t\trow.get_formatted(\"rate\", doc) }}</td>\n\t\t\t<td style=\"width: 15%; text-align: right;\">{{\n\t\t\t\trow.get_formatted(\"amount\", doc) }}</td>\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}